---
layout: document
category: development
published: true
title: "Database schema reference"
tags:
  - development 
  - plugins
  - database
  - schema
---

"ToC":http://docs.textpattern.io тиа "Development":http://docs.textpattern.io/development/ тиа **Database schema reference**

h1. Database schema reference

Textpattern stores all data in a MySQL database. Within that database, there are 17 tables, each containing a different collection of information.[1] Here we describe each table and the information it contains, effective version 4.4.1 and later. (Since the columns can be used to influence sorting in various list tags, non-developers may find their descriptions useful too.)

fn1. The size limits shown in the _Description_ for various table columns (e.g., the _Body_ column of the 'textpattern' table) may differ slightly from the actual size limits found in the tables created by Textpattern during installation (when a column is used in multiple tables, the smallest size is used). You should consider the limits indicated here as authoritative. When in doubt, ask a developer on the forum.

On this page:

* "textpattern":#sec1
* "txp_category":#sec2
* "txp_css":#sec3
* "txp_discuss":#sec4
* "txp_discuss_ipban":#sec5
* "txp_discuss_nonce":#sec6
* "txp_file":#sec7
* "txp_form":#sec8
* "txp_image":#sec9
* "txp_lang":#sec10
* "txp_link":#sec11
* "txp_log":#sec12
* "txp_page":#sec13
* "txp_plugin":#sec14
* "txp_prefs":#sec15
* "txp_section":#sec16
* "txp_users":#sec17

h2(#sec1). textpattern

The 'textpattern' table contains the articles you create on the **"Write":http://docs.textpattern.io/administration/content/write-panel** panel.

|_. Column  |_. Type  |_. Description |
| ID  | integer  | Unique, auto incremented numerical ID of the article |
| Posted  | datetime  | Publication date and time |
| Expires  | datetime  | Expiration date and time (defaults to 0000-00-00 00:00:00, which indicates that the article never expires) |
| AuthorID  | varchar(64)  | Login name of the author that created the article |
| LastMod  | datetime  | Modification date and time |
| LastModID  | varchar(64)  | Login name of the author that modified the article |
| Title  | varchar(255)  | Article Title |
| Title_html  | varchar(255)  | (reserved for future use) |
| Body  | mediumtext  | Main article text (max 16MB), see also 'textile_body' |
| Excerpt  | text  | Article excerpt (max 64kB), see also 'textile_excerpt' |
| Body_html  | mediumtext  | HTML version of Body |
| Excerpt_html  | mediumtext  | HTML version of Excerpt |
| Image  | varchar(255)  | numerical ID of an image managed by Textpattern or URL of other image |
| Category1  | varchar(64)  | Name of the 1th category associated with this article |
| Category2  | varchar(64)  | Name of the 2nd category associated with this article |
| Annotate  | integer  | Comments enabled? (0 = no, 1 = yes) |
| AnnotateInvite  | varchar(255)  | Text used for inviting people to comment on the article |
| comments_count  | integer  | Number of visible comments associated with this article |
| Status  | integer  | Status (1 = draft, 2 = hidden, 3 = pending, 4 = live, 5 = sticky) |
| textile_body  | integer  | Body markup (0 = raw HTML and text, 1 = textile, 2 = only convert linebreaks. Default = 1) |
| textile_excerpt  | integer  | Excerpt markup (0 = raw HTML and text, 1 = textile, 2 = only convert linebreaks. Default = 1) |
| Section  | varchar(64)  | Name of the section in which this article belongs |
| override_form  | varchar(64)  | Textpattern 'form' containing layout used for displaying this specific article, overriding the form which is normally used to display articles. If left empty, the default layout form is used |
| Keywords  | varchar(255)  | Comma separated list of keywords (often called 'tags') that describe this article |
| url_title  | varchar(255)  | Title of the article as used in the URL for the permalinked article page |
| custom_1  | varchar(255)  | 1th Custom field (plain text) |
| custom_2  | varchar(255)  | 2nd Custom field (plain text) |
| custom_3  | varchar(255)  | 3rd Custom field (plain text) |
| custom_4  | varchar(255)  | 4th Custom field (plain text) |
| custom_5  | varchar(255)  | 5th Custom field (plain text) |
| custom_6  | varchar(255)  | 6th Custom field (plain text) |
| custom_7  | varchar(255)  | 7th Custom field (plain text) |
| custom_8  | varchar(255)  | 8th Custom field (plain text) |
| custom_9  | varchar(255)  | 9th Custom field (plain text) |
| custom_10  | varchar(255)  | 10th Custom field (plain text) |
| uid  | varchar(32)  | Random string used to uniquely identify this article in an RSS/Atom feed. Textpattern uses md5(uniqid(rand(),true)) to create the uid |
| feed_time  | date  | Creation date of the article (when you first save the article, regardless of status)  |

h2(#sec2). txp_category

The 'txp_category' table contains all the categories you create on the category tab.

<table>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr class="header">
<th align="left">Column
Type
Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">id
integer
Unique auto-incremented ID of this category</td>
<td align="left">name
varchar(64)
Category name, used in URLs. The category 'root' is reserved (and invisible)</td>
<td align="left">title
varchar(255)
Category title</td>
</tr>
</tbody>
</table>

h2(#sec3). txp_css

The 'txp_css' table contains the style sheets created on the Style tab.

<table>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr class="header">
<th align="left">Column
Type
Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">name
varchar(128)
Name of the style sheet</td>
<td align="left">css
text
Style sheet contents, base64 encoded for historical reasons (max 64kB)</td>
</tr>
</tbody>
</table>

h2(#sec4). txp_discuss

The 'txp_discuss' table contains all the comments for all the articles.

<table>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr class="header">
<th align="left">Column
Type
Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">discussid
integer
Unique auto-incremented ID of this comment</td>
<td align="left">parentid
integer
ID of the article to which this comment belongs</td>
<td align="left">name
varchar(255)
Name of the person who commented</td>
</tr>
</tbody>
</table>

h2(#sec5). txp_discuss_ipban

The 'txp_discuss_ipban' table contains a list of all IP-numbers that have been banned from commenting by the person that moderates the comments.

<table>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr class="header">
<th align="left">Column
Type
Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">ip
varchar(255)
IP-number</td>
<td align="left">name_used
varchar(255)
Name used by the commenter to submit the comment that cause him/her to be banned</td>
<td align="left">date_banned
datetime
Date when the ban was imposed</td>
</tr>
</tbody>
</table>

h2(#sec6). txp_discuss_nonce

The 'txp_discuss_nonce' table is an important part of the spam protection in the commenting system. When the comment form is shown to the user, it contains a hidden variable (nonce) with a unique code. This code is valid for 10 minutes. If the comment form is submitted, the nonce is looked up in this table and must exist unused with a valid timestamp for the comment to be accepted.

<table>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr class="header">
<th align="left">Column
Type
Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">issue_time
datetime
Date and time when the 'nonce' was created</td>
<td align="left">nonce
varchar(32)
Random alphanumeric string of text (md5)</td>
<td align="left">used
integer
Has the nonce been used for submitting a comment (0 = no, 1 = yes). A nonce cannot be used twice.</td>
</tr>
</tbody>
</table>

h2(#sec7). txp_file

The 'txp_file' table contains information on all the files uploaded through textpattern. The files themselves are stored as normal files on disk instead of in the database.

<table>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr class="header">
<th align="left">Column
Type
Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">id
integer
Unique auto-incremented ID of this file</td>
<td align="left">filename
varchar(255)
Name of the file as stored on the harddisk</td>
<td align="left">title
varchar(255)
Title given to this file for display purposes</td>
</tr>
</tbody>
</table>

h2(#sec8). txp_form

The 'txp_form' table contains all the forms, which are created on the Forms tab.

<table>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr class="header">
<th align="left">Column
Type
Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">name
varchar(64)
Form name</td>
<td align="left">type
varchar(28)
Form type: article, category, comment, file, link, misc or section</td>
<td align="left">Form
text
Contents of the form: HTML / Textpattern tags (max 64kB)</td>
</tr>
</tbody>
</table>

h2(#sec9). txp_image

The 'txp_image' table contains information on all the images that are uploaded and managed through Textpattern. The images themselves are not stored on in the database. They are stored as normal files using the image ID as the filename (i.e. 1.png for the main image or 1t.png for the corresponding thumbnail).

<table>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr class="header">
<th align="left">Column
Type
Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">id
integer
Unique auto-incremented ID of this image</td>
<td align="left">name
varchar(255)
Name of the image file as it was uploaded</td>
<td align="left">category
varchar(64)
Name of the category associated with this image</td>
</tr>
</tbody>
</table>

h2(#sec10). txp_lang

The 'txp_lang' table contains translations for the various built-in strings of text used both on the public and admin side of Textpattern.

<table>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr class="header">
<th align="left">Column
Type
Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">id
integer
Unique auto-incremented ID of this language string</td>
<td align="left">lang
varchar(16)
Language code (for example: en-gb for British English)</td>
<td align="left">name
varchar(64)
Unique name which identifies the language string</td>
</tr>
</tbody>
</table>

h2(#sec11). txp_link

The 'txp_link' table contains all the links and related information as created on the Links tab.

<table>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr class="header">
<th align="left">Column
Type
Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">id
integer
Unique auto-incremented ID of this link</td>
<td align="left">date
datetime
Creation date and time</td>
<td align="left">category
varchar(64)
Name of the category associated with this link</td>
</tr>
</tbody>
</table>

h2(#sec12). txp_log

The 'txp_log' table contains log entries of page requests (visits) to your website. Depending on your preferences, nothing is logged, just referers or all requests. Old log entries are removed automatically.

<table>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr class="header">
<th align="left">Column
Type
Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">id
integer
Unique auto-incremented ID of this log entry</td>
<td align="left">time
datetime
Date and time</td>
<td align="left">host
varchar(255)
hostname of the computer that requested the page. If DNS lookups are disabled in the preferences or if the reverse DNS lookup of the IP-number failed, the IP-number is stored instead</td>
</tr>
</tbody>
</table>

h2(#sec13). txp_page

The 'txp_page' table contains all the page templates you create on the Page tab.

<table>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr class="header">
<th align="left">Column
Type
Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">name
varchar(128)
Name of the template</td>
<td align="left">user_html
text
Template contents: HTML / Textpattern tags (max 64kB)</td>
</tr>
</tbody>
</table>

h2(#sec14). txp_plugin

The 'txp_plugin' table contains all the plugins you have installed.

<table>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr class="header">
<th align="left">Column
Type
Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">name
varchar(64)
Plugin name</td>
<td align="left">status
integer
Status (0 = disabled, 1 = enabled)</td>
<td align="left">author
varchar(128)
Plugin author name</td>
</tr>
</tbody>
</table>

h2(#sec15). txp_prefs

The 'txp_prefs' table contains all the preferences (basic, advanced and hidden).

<table>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr class="header">
<th align="left">Column
Type
Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">prefs_id
integer
Unknown (always set to 1?)</td>
<td align="left">name
varchar(255)
Name that identifies this preference</td>
<td align="left">val
text
Contents/setting of this preference (max 64kB)</td>
</tr>
</tbody>
</table>

h2(#sec16). txp_section

The 'txp_section' table contains all the sections you create on the Sections tab.

<table>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr class="header">
<th align="left">Column
Type
Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">name
varchar(128)
Section name (used in URL)</td>
<td align="left">page
varchar(128)
Page template used for this section</td>
<td align="left">css
varchar(128)
Style sheet used for this section</td>
</tr>
</tbody>
</table>

h2(#sec17). txp_users

The 'txp_users' table contains information on all the users that can log into Textpattern on the admin side.

<table>
<col width="33%" />
<col width="33%" />
<col width="33%" />
<thead>
<tr class="header">
<th align="left">Column
Type
Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">user_id
integer
Unique auto-incremented ID of this user</td>
<td align="left">name
varchar(64)
Login name</td>
<td align="left">pass
varchar(128)
Password</td>
</tr>
</tbody>
</table>

