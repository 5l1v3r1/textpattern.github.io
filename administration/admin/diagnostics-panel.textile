h1. Diagnostics [todo:dw]

The **Diagnostics** panel is an important panel for troubleshooting potential problems with your Textpattern installation, such as you might discover when installing or upgrading to a new version. They can also be useful for troubleshooting functional problems that you may have introduced by accident when extending the system, modifying the .htaccess file, and so forth.

h2. Diagnostic info display

The **Diagnostics info** display field has two "Detail" views for convenience: Low and High. Low is displayed by default. You can toggle between the views using the **Detail** selection control at bottom of the info display field.

h2. Diagnostic feedback messages

At any given time you do not want to see feedback messages on the Diagnostics panel. No messages generally means everything is okay. The time to start looking for any feedback messages is after installing Textpattern and whenever you update to a new version release. Feedback messages come in three colors, which correspond with the severity of the feedback messages you might see.[1]

h3. Green (everything is okay) 

There is only one green message: 

* "All systems check okay." 

You get this message when successfully troubleshooting all yellow and red feedback messages that may exist first. The green message will go away once you leave the Diagnostics panel. Again, no messages means everything is good.

h3. Yellow (warning) 

Yellow messages are not indicators of critical emergencies, they simply bring your attention to things that could be better. Address them when you can. 

Yellow messages usually appear when you need to remove the @/update@ directory on your server and/or when directories need a change to their rights of access order to function.[2] Following are the yellow messages you will generally see: 

* @/usr/home/{username}/public_html/textpattern/setup/ still exists@ (means you need to remove the "setup" folder from the web server) 
* @image directory is read-only@ (means permissions on your images folder needs changed before you can add any images to it; change permissions to chmod 755 or 711.[3]

h3. Red (critical)

Red messages mean something is wrong and you need to fix it immediately for functional or security reasons. Possible red messages include:

* @path_to_site doesn't match document_root [ /home/yourserveralias/public_html ]@ (could either mean you do not have the right “Site URL” path set in the "Basic preferences":/home/www/zendstudio/dokuwiki/bin/doku.php?id=basic_preferences, or in the case of upgrading, you still need to update your @index.php@ and/or @.htaccess@ files (see next diagnostic). Could be a false error: Symlinks, unfortunately, cannot be correctly recognized, so you might get this error even though there is not really a problem. Unless you are having actual problems you shouldn't worry too much about this. 
* @/index.php is inaccessible@ (suggests your @index.php@ file is not available, is not the right version, or that your "Site URL" is wrong, as described previously. It could also mean the @index.php@ file did not directly download during an initial upgrade (for whatever reason). Get the latest copy of @index.php@ from the "current":http://dev.textpattern.com/browser/current/ repository for Textpattern development. 
* @path_to_site is inaccessible@ (means either one or both of the previous diagnostics are a problem. Follow the troubleshooting procedures for them accordingly.
* @.htaccess file is missing@ (concerns the .htaccess file, but doesn't necessarily mean the file is missing; the message usually appears if you are trying to use one of the “clean” URL settings, and you have one of the previous diagnostic issues with the wrong path or missing _index.php_ file. Take care of those issues first and this message may disappear. If that does not work, then definitely check to see if you even have an _.htaccess_ file. If the file is there, then either replace it from current development repository, or click the help link next to this particular message and replace the contents of your existing _.htaccess_ file with the indicated rewrite rules in the help dialog.
* @Clean URL test failed@ (is is not necessarily an error that will prevent your site from working. It could be caused by the PHP configuration setting of @allow_url_fopen@ or some other hosting issue. See "this FAQ":http://textpattern.com/faq/247/clean-url-test-failed.

fn1. Cascading errors: Feedback messages can often appear because of the appearance of other feedback messages. In other words, one problem might be the cause of another, so by troubleshooting the first problem the second problem will go away too. There's not way to know for sure which issue leads the cascade, so troubleshoot the red (critical) issues first, refreshing the Diagnostics panel as you go, to see if other issues go away. If not, address the remaining yellow issues one-by-one, refreshing the panel accordingly.

fn2. False errors: On rare occasions, yellow messages have been known to appear but not go away when addressed as instructed by their help information. Textpattern developers have indicated this can happen in odd situations and is almost always a false warning, meaning there isn't anything to worry about. If you ever have this problem, post about it in the "Troubleshooting forum":http://forum.textpattern.com/viewforum.php?id=67 and someone will try to help.

fn3. Folder permissions: A chmod setting of 755 or 711 should word, and is secure. But a lot of people have trouble with this and need to use a chmod of 777, which has "security implications":http://forum.textpattern.com/viewtopic.php?id=26613. The discrepancy is due to how Apache directives are configured on the web server, which means you may have to haggle with your web host to change the directives.


h2. FAQ Diagnostics [todo:dw]

Check the "FAQ Diagnostics":http://textpattern.com/faq/?c=diagnostics.
