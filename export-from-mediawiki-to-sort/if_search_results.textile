\n"mininav&#95;tags":/home/www/zendstudio/dokuwiki/bin/lib/exe/fetch.php?id=&media=mininav_tags

bc(code). <txp:if_search_results>


The "if&#95;search&#95;results":/home/www/zendstudio/dokuwiki/bin/doku.php?id=if_search_results tag is a _conditional_ tag and always used as an opening and closing pair, like this...

bc(code). <txp:if_search_results>
...conditional statement...
</txp:if_search_results>


The tag will execute the contained statements if the current article list contains a certain amount of entries matching the search term - mostly more than zero.

A typical application of this tag is the conditional output of a “Sorry, we found no items matching your search request.” message, but the

bc(code). min


and

bc(code). max


attributes allow for a finer grained reaction to search queries.

IMPORTANT: you cannot use this tag directly inside an "if&#95;search":/home/www/zendstudio/dokuwiki/bin/doku.php?id=if_search tag without using an "article":/home/www/zendstudio/dokuwiki/bin/doku.php?id=article tag first to actually perform the search! See Example 2 for clarification

h3(sectionedit1#attributes). Attributes

Tag will accept the following attributes (*case-sensitive*):

*"max":/home/www/zendstudio/dokuwiki/bin/doku.php?id=attributes_cross-reference#max=“number”*
 If the search results count is no higher than

bc(code). max


, the tags enclosed by this conditional tag are rendered. Default: unset, which results in no upper limit. *"min":/home/www/zendstudio/dokuwiki/bin/doku.php?id=attributes_cross-reference#min=“number”*
 If the search results count is at least equal to

bc(code). min


, the tags enclosed by this conditional tag are rendered. Default:

bc(code). 1


h3(sectionedit2#examples). Examples

h4(#example_1more_informative_search_result_output). Example 1: More informative search result output

bc(code). <txp:if_search_results>
  <p>These articles match your search request: </p>
<txp:else />
  <p>Sorry, we were not able to find a page matching your search request <strong><txp:search_term /></strong>.</p>
</txp:if_search_results>


*What this does...*
 Ensures the visitor does not see a blank page when no articles match the search request.

Other tags used: "else":/home/www/zendstudio/dokuwiki/bin/doku.php?id=else, "search&#95;term":/home/www/zendstudio/dokuwiki/bin/doku.php?id=search_term

h4(#example_2in_context_within_if_search). Example 2: In context within [[if&#95;search]]

bc(code). <txp:if_search>
  <txp:article pgonly="1" limit="10" />
  <txp:if_search_results>
    <p>These articles match your search request: </p>
    <txp:article limit="10" searchform="search_results" />
  <txp:else />
    <p>Sorry, we were not able to find a page matching your search request <strong><txp:search_term /></strong>.</p>
  </txp:if_search_results>
</txp:if_search>


*What this does...*
 Detects if a search is in progress, calls the "article":/home/www/zendstudio/dokuwiki/bin/doku.php?id=article tag to perform the search but *_inhibits display via the &lt;code&gt;pgonly&lt;/code&gt; attribute_*. Once the search has been performed (internally) and Textpattern knows how many search results there are, you can then use "if&#95;search&#95;results":/home/www/zendstudio/dokuwiki/bin/doku.php?id=if_search_results to detect whether there were any or not. *Why you have to do this...*
 Because it's the only way to use the tag! Trying to use it without first calling an "article":/home/www/zendstudio/dokuwiki/bin/doku.php?id=article tag will give unexpected results and, more often than not, a “Page template ... does not contain a txp:article tag”

You must ensure that all attributes used in your two article tags are identical (except for any

bc(code). form


attributes, which can safely be omitted when using

bc(code). pgonly


). Failure to keep the tags in sync will result in strange article counts or odd behaviour.

Other tags used: "if&#95;search":/home/www/zendstudio/dokuwiki/bin/doku.php?id=if_search, "article":/home/www/zendstudio/dokuwiki/bin/doku.php?id=article, "else":/home/www/zendstudio/dokuwiki/bin/doku.php?id=else, "search&#95;term":/home/www/zendstudio/dokuwiki/bin/doku.php?id=search_term

h4(#example_3take_action_when_there_are_too_many_hits). Example 3: Take action when there are too many hits

bc(code). <txp:if_search_results max="500">
  <p>These articles match your search request: </p>
<txp:else />
  <p>Seems like you are looking for a very common search term. Try using a more specific search phrase.</p>
</txp:if_search_results>


*What this does...*
 Advises the visitor to search for something more specific in the case where their search term generated an excessive amount of hits.

Other tags used: "else":/home/www/zendstudio/dokuwiki/bin/doku.php?id=else

h3(sectionedit3#genealogy). Genealogy

h4(#version_406). Version 4.0.6

* tag added

